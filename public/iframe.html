<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Proxy</title>
    <style>
    html,body{
    margin:0;
    padding:0;
    overflow:hidden;
    width:100%;
    height:100%;
    }
    
    #player{
    width:100%;
    height: 100%;
    }
    </style> 
</head>
<body>
    <div id="player"></div>
    <script src="https://cdn.jsdelivr.net/npm/cdnbye@latest"></script>
    <script src="https://d13pzes0ckdnoc.cloudfront.net/e44h5i%2Ffile%2Ffadc9209a49bd8898a0d7a7af8d493b0_83e322c6222bce2d0f2ee465fc9aa8ca.js?response-content-disposition=attachment%3Bfilename%3D%22playerjs_netflix_19.9.9.js%22%3B&response-content-encoding=binary&Expires=1734211260&Signature=Kdq~zFEUVzRhW~3v1ZCR~WMBvhl3WImd36020DLemWAwuKFKrbWD3d37pELHKLu114u4kFyB94-kVaMPs4VqceH7KGnBtKZF6OGA9xe-Xoz46~Vt6L7TPj5b6HgVT-ZK3LhQ~uq4vYm0aWfmUDHdln-lmc60cv1~3VUfbRB~0fln9-nLO8p2IFlvwJDXKlbRMwxe0CsdQqx1vEFeB94u8yDd9z37T9WK7xu-aKp5bWVh9kOCv46ZIHcCluITzdhvDsH1VtSvfVDUsw5XogOW~3M3bC~6oW1aezs4Yi-3zwS8Iba3~7ErNMxDNSfkhppNkkGGUM9-Uq-nJGkkYwX2kA__&Key-Pair-Id=APKAJT5WQLLEOADKLHBQ" type="text/javascript"></script>
    <script>
    // Fungsi untuk mendapatkan parameter dari URL
    function getUrlParameter(name) {
        var url = new URL(window.location.href);
        return url.searchParams.get(name);
    }

    // Ambil parameter 'file' dan 'subtitle' dari URL
    var videoFile = getUrlParameter("file");
    var subtitleFile = getUrlParameter("subtitle");

    // Periksa jika file video dan subtitle ada, lalu buat player
    if (videoFile && subtitleFile) {
        var player = new Playerjs({
            id: "player",
            file: videoFile,
            subtitle: subtitleFile,
            autoplay: true,
            hlsconfig: {
                p2pConfig: {
                    live: true,
                },
                qualityLabelSelector: function(qualityLevels) {
                }
            }
        });

        function PlayerjsEvents(event, id, data) {
            if (event == "duration") {
                var duration = data;
                Android.setDuration(duration); // Kirim durasi ke Android
            }
            if (event == "time") {
                var currentTime = data;
                Android.setTime(currentTime);
            }
        }
    } else {
        alert("Video file atau subtitle tidak ditemukan dalam URL.");
    }
    </script>
</body>
</html>
